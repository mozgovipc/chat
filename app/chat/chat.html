<div class="chat">
  <h3>Main chat room</h3>

  <div ng-if="!$ctrl.connected">
    <label for="nickname">Nick:</label>
    <input id="nickname" type="text" ng-model="$ctrl.nickname" ng-keydown=$ctrl.onJoin($event)>
    <button ng-click="$ctrl.onJoin()">Join</button>
  </div>
  
  <div ng-if="$ctrl.connected">
    <p>You are connected under nickname `{{$ctrl.nickname}}`</p>
    <div class="user-list">
      <span>Active users:</span>
      <ul>
        <li ng-repeat="user in $ctrl.users track by $index">{{user}}</li>
      </ul>
      <p>{{$ctrl.users.length}} users online</p>
    </div>
    <div class="message-list">
      <textarea disabled ng-model="$ctrl.messages"></textarea>
      <input ng-attr-placeholder="Type your message" type="text" ng-model="$ctrl.message" ng-keydown="$ctrl.onMessageKeydown($event)">
    </div>
  </div>
</div>
